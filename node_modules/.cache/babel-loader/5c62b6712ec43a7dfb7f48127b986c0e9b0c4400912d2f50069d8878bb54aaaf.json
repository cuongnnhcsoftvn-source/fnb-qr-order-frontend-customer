{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function TableQR(){const[tableId,setTableId]=useState(null);const[countdown,setCountdown]=useState(2);useEffect(()=>{const params=new URLSearchParams(window.location.search);const id=params.get('table')||params.get('tableId')||params.get('tid');setTableId(id);if(id){const t=setInterval(()=>{setCountdown(c=>{if(c<=1){clearInterval(t);window.location.href=\"/menu?table=\".concat(id);return 0;}return c-1;});},1000);return()=>clearInterval(t);}},[]);if(!tableId){return/*#__PURE__*/_jsxs(\"div\",{style:{minHeight:'100vh',display:'flex',alignItems:'center',justifyContent:'center',flexDirection:'column'},children:[/*#__PURE__*/_jsx(\"h2\",{children:\"QR kh\\xF4ng h\\u1EE3p l\\u1EC7\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Kh\\xF4ng t\\xECm th\\u1EA5y th\\xF4ng tin b\\xE0n tr\\xEAn \\u0111\\u01B0\\u1EDDng d\\u1EABn.\"})]});}return/*#__PURE__*/_jsxs(\"div\",{style:{minHeight:'100vh',display:'flex',alignItems:'center',justifyContent:'center',flexDirection:'column'},children:[/*#__PURE__*/_jsxs(\"h1\",{children:[\"Ch\\xE0o m\\u1EEBng \\u2014 B\\xE0n \",tableId]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"B\\u1EA1n s\\u1EBD \\u0111\\u01B0\\u1EE3c chuy\\u1EC3n sang menu trong \",countdown,\" gi\\xE2y\"]}),/*#__PURE__*/_jsx(\"a\",{href:\"/menu?table=\".concat(tableId),style:{marginTop:12,padding:'10px 18px',background:'#2b9348',color:'#fff',borderRadius:8},children:\"V\\xE0o Menu\"})]});}","map":{"version":3,"names":["React","useEffect","useState","jsx","_jsx","jsxs","_jsxs","TableQR","tableId","setTableId","countdown","setCountdown","params","URLSearchParams","window","location","search","id","get","t","setInterval","c","clearInterval","href","concat","style","minHeight","display","alignItems","justifyContent","flexDirection","children","marginTop","padding","background","color","borderRadius"],"sources":["/Users/cuongnguyen/Documents/f&b app/fnb-qr-order-frontend-customer/src/TableQR.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\n\nexport default function TableQR() {\n  const [tableId, setTableId] = useState(null);\n  const [countdown, setCountdown] = useState(2);\n\n  useEffect(() => {\n    const params = new URLSearchParams(window.location.search);\n    const id = params.get('table') || params.get('tableId') || params.get('tid');\n    setTableId(id);\n\n    if (id) {\n      const t = setInterval(() => {\n        setCountdown(c => {\n          if (c <= 1) {\n            clearInterval(t);\n            window.location.href = `/menu?table=${id}`;\n            return 0;\n          }\n          return c - 1;\n        });\n      }, 1000);\n      return () => clearInterval(t);\n    }\n  }, []);\n\n  if (!tableId) {\n    return (\n      <div style={{ minHeight: '100vh', display:'flex', alignItems:'center', justifyContent:'center', flexDirection:'column' }}>\n        <h2>QR không hợp lệ</h2>\n        <p>Không tìm thấy thông tin bàn trên đường dẫn.</p>\n      </div>\n    );\n  }\n\n  return (\n    <div style={{ minHeight: '100vh', display:'flex', alignItems:'center', justifyContent:'center', flexDirection:'column' }}>\n      <h1>Chào mừng — Bàn {tableId}</h1>\n      <p>Bạn sẽ được chuyển sang menu trong {countdown} giây</p>\n      <a href={`/menu?table=${tableId}`} style={{ marginTop: 12, padding: '10px 18px', background:'#2b9348', color:'#fff', borderRadius:8 }}>Vào Menu</a>\n    </div>\n  );\n}\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEnD,cAAe,SAAS,CAAAC,OAAOA,CAAA,CAAG,CAChC,KAAM,CAACC,OAAO,CAAEC,UAAU,CAAC,CAAGP,QAAQ,CAAC,IAAI,CAAC,CAC5C,KAAM,CAACQ,SAAS,CAAEC,YAAY,CAAC,CAAGT,QAAQ,CAAC,CAAC,CAAC,CAE7CD,SAAS,CAAC,IAAM,CACd,KAAM,CAAAW,MAAM,CAAG,GAAI,CAAAC,eAAe,CAACC,MAAM,CAACC,QAAQ,CAACC,MAAM,CAAC,CAC1D,KAAM,CAAAC,EAAE,CAAGL,MAAM,CAACM,GAAG,CAAC,OAAO,CAAC,EAAIN,MAAM,CAACM,GAAG,CAAC,SAAS,CAAC,EAAIN,MAAM,CAACM,GAAG,CAAC,KAAK,CAAC,CAC5ET,UAAU,CAACQ,EAAE,CAAC,CAEd,GAAIA,EAAE,CAAE,CACN,KAAM,CAAAE,CAAC,CAAGC,WAAW,CAAC,IAAM,CAC1BT,YAAY,CAACU,CAAC,EAAI,CAChB,GAAIA,CAAC,EAAI,CAAC,CAAE,CACVC,aAAa,CAACH,CAAC,CAAC,CAChBL,MAAM,CAACC,QAAQ,CAACQ,IAAI,gBAAAC,MAAA,CAAkBP,EAAE,CAAE,CAC1C,MAAO,EAAC,CACV,CACA,MAAO,CAAAI,CAAC,CAAG,CAAC,CACd,CAAC,CAAC,CACJ,CAAC,CAAE,IAAI,CAAC,CACR,MAAO,IAAMC,aAAa,CAACH,CAAC,CAAC,CAC/B,CACF,CAAC,CAAE,EAAE,CAAC,CAEN,GAAI,CAACX,OAAO,CAAE,CACZ,mBACEF,KAAA,QAAKmB,KAAK,CAAE,CAAEC,SAAS,CAAE,OAAO,CAAEC,OAAO,CAAC,MAAM,CAAEC,UAAU,CAAC,QAAQ,CAAEC,cAAc,CAAC,QAAQ,CAAEC,aAAa,CAAC,QAAS,CAAE,CAAAC,QAAA,eACvH3B,IAAA,OAAA2B,QAAA,CAAI,8BAAe,CAAI,CAAC,cACxB3B,IAAA,MAAA2B,QAAA,CAAG,sFAA4C,CAAG,CAAC,EAChD,CAAC,CAEV,CAEA,mBACEzB,KAAA,QAAKmB,KAAK,CAAE,CAAEC,SAAS,CAAE,OAAO,CAAEC,OAAO,CAAC,MAAM,CAAEC,UAAU,CAAC,QAAQ,CAAEC,cAAc,CAAC,QAAQ,CAAEC,aAAa,CAAC,QAAS,CAAE,CAAAC,QAAA,eACvHzB,KAAA,OAAAyB,QAAA,EAAI,kCAAgB,CAACvB,OAAO,EAAK,CAAC,cAClCF,KAAA,MAAAyB,QAAA,EAAG,mEAAmC,CAACrB,SAAS,CAAC,UAAK,EAAG,CAAC,cAC1DN,IAAA,MAAGmB,IAAI,gBAAAC,MAAA,CAAiBhB,OAAO,CAAG,CAACiB,KAAK,CAAE,CAAEO,SAAS,CAAE,EAAE,CAAEC,OAAO,CAAE,WAAW,CAAEC,UAAU,CAAC,SAAS,CAAEC,KAAK,CAAC,MAAM,CAAEC,YAAY,CAAC,CAAE,CAAE,CAAAL,QAAA,CAAC,aAAQ,CAAG,CAAC,EAChJ,CAAC,CAEV","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}